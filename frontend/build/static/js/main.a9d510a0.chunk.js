(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t){e.exports="data:image/png;base64,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"},16:function(e,t,a){e.exports=a(28)},23:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(12),o=a.n(r),i=(a(23),a(14)),c=a(2);var s=e=>{let{label:t,options:a,selectedValue:l,onSelect:r}=e;return n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"22px",marginTop:"12px"}},n.a.createElement("h3",null,t),n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"22px",marginTop:"22px",justifyContent:"center"}},a.map(e=>n.a.createElement("div",{key:e.value,onClick:()=>r(e.value),style:{padding:"32px 50px",fontSize:"1.0rem",backgroundColor:l===e.value?"#0056b3":"#007bff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"background-color 0.3s ease"},onMouseOver:e=>{e.target.style.backgroundColor="#ff8400"},onMouseOut:t=>{l===e.value?t.target.style.backgroundColor="#0056b3":t.target.style.backgroundColor="#007bff"}},e.label))))};const u=async()=>{const e=await fetch("https://zlom-app.onrender.com/api/materials/");return await e.json()};var p=e=>{let{selectedType:t,setSelectedType:a,selectedMaterial:r,setSelectedMaterial:o,selectedSize:i,setSelectedSize:c}=e;const[p,d]=Object(l.useState)([]),[m,g]=Object(l.useState)(!1),[b,v]=Object(l.useState)("");Object(l.useEffect)(()=>{u().then(e=>{const t=e.filter(e=>e.value.startsWith("AL"));console.log("Aluminium subtypes:",t),d(t)})},[]),Object(l.useEffect)(()=>{c("")},[t,c]);const f=(()=>{switch(t){case"ROUND":return[{value:"1",label:"Fi22"},{value:"2",label:"Fi25"},{value:"3",label:"Fi30"},{value:"4",label:"Fi40"},{value:"5",label:"Fi50"},{value:"16",label:"Fi30x1.0"},{value:"19",label:"Fi25x1.0"}];case"SQUARE":return[{value:"6",label:"40x40"},{value:"7",label:"25x25"},{value:"8",label:"30x30"},{value:"15",label:"45x45"},{value:"17",label:"60x60"}];case"RECT":return[{value:"9",label:"30x10"},{value:"10",label:"40x10"},{value:"11",label:"40x20"},{value:"12",label:"50x25"}];case"Other":return[{value:"13",label:"Marcepan"},{value:"14",label:"Kieszen"},{value:"18",label:"Owal"}];default:return[]}})();return n.a.createElement("div",null,n.a.createElement(s,{label:"",options:[{value:"ROUND",label:"Okr\u0105g\u0142a"},{value:"SQUARE",label:"Kwadratowa"},{value:"RECT",label:"Prostok\u0105tny"},{value:"Other",label:"Inne"}],selectedValue:t,onSelect:a}),t&&n.a.createElement(s,{label:"",options:f,selectedValue:i,onSelect:c}),n.a.createElement(s,{label:"",options:[{value:"AL",label:"Aluminium"},{value:"A304",label:"304"},{value:"A316",label:"316"},{value:"MS",label:"Mosi\u0105dz"},{value:"A304_Poler",label:"Poler 304"},{value:"A316_Poler",label:"Poler 316"}],selectedValue:r,onSelect:e=>{o(e),g("AL"===e)}}),m&&n.a.createElement("div",{style:{textAlign:"center",marginBottom:"5px"}},n.a.createElement("h3",null,"Wybierz typ aluminium"),n.a.createElement(s,{options:p,selectedValue:b,onSelect:e=>{v(e),o(e)}})))},d=a(29);var m=e=>{let{selectedType:t,selectedMaterial:a,selectedSize:r,onSubmit:o}=e;const[i,c]=Object(l.useState)(""),[s,u]=Object(l.useState)(null),[p,m]=Object(l.useState)(!1),[g,b]=Object(l.useState)([]),[v,f]=Object(l.useState)(null),[x,h]=Object(l.useState)(0);Object(l.useEffect)(()=>{d.a.get("https://zlom-app.onrender.com/api/tares/").then(e=>{b(e.data)}).catch(e=>{console.error("Error fetching tares:",e)})},[]);return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),m(!0),console.log("Klikni\u0119to Dodaj wag\u0119"),parseFloat(i);const l=v?i-v.weight_kg:i;try{const e={weight_kg:l,material:a,shape:t,size:r};console.log("\ud83d\udce6 Wysy\u0142ane dane:",e),await o(e),c("")}catch(n){console.error("B\u0142\u0105d podczas dodawania wagi:",n),u("B\u0142\u0105d podczas dodawania wagi")}finally{m(!1)}},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"30px"}},n.a.createElement("p",null),n.a.createElement("input",{type:"number",value:i,onChange:e=>{c(e.target.value),v&&h(e.target.value-v.weight_kg)},placeholder:"Wpisz wag\u0119",className:"rounded-md border border-gray-300 px-4 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",style:{width:"300px",height:"50px",paddingLeft:"15px",paddingRight:"15px",paddingTop:"10px",paddingBottom:"10px",fontSize:"1.5rem"}}),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"12px"}},n.a.createElement("h3",null,"Wybierz tar\u0119:"),n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"22px",marginTop:"12px"}},g.map(e=>n.a.createElement("div",{key:e.id,style:{padding:"12px 24px",fontSize:"0.9rem",backgroundColor:(null===v||void 0===v?void 0:v.id)===e.id?"#0056b3":"#007bff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"background-color 0.3s ease"},onMouseOver:e=>{e.target.style.backgroundColor="#ff8400"},onMouseOut:t=>{(null===v||void 0===v?void 0:v.id)===e.id?t.target.style.backgroundColor="#0056b3":t.target.style.backgroundColor="#007bff"},onClick:()=>(e=>{f(e),h(i-e.weight_kg)})(e)},e.name)))),n.a.createElement("button",{type:"submit",style:{marginTop:"62px",padding:"12px 24px",fontSize:"1.2rem",backgroundColor:"#ff8400",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"background-color 0.3s ease"},onMouseOver:e=>e.target.style.backgroundColor="#0056b3",onMouseOut:e=>e.target.style.backgroundColor="#ff8400"},"Dodaj wag\u0119")))};const g=d.a.create({baseURL:"https://zlom-app.onrender.com/api/",timeout:5e3,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0});g.interceptors.request.use(e=>{const t=function(){const e=document.cookie.split(";");for(let t of e){const[e,a]=t.trim().split("=");if("csrftoken"===e)return a}return null}();return t&&(e.headers["X-CSRFToken"]=t),e});var b=g;var v=e=>{let{entries:t,refreshEntries:a}=e;const[r,o]=Object(l.useState)({}),[i,c]=Object(l.useState)({});Object(l.useEffect)(()=>{u().then(e=>{const t={};e.forEach(e=>{t[e.value]=e.label}),o(t)})},[]),Object(l.useEffect)(()=>{const e=[...new Set(t.map(e=>e.shape))],a=async()=>{const a=await Promise.all(e.map(e=>(async e=>{try{return{shape:e,sizes:(await b.get(`/get-sizes/?shape=${e}`)).data}}catch(t){return console.error(`B\u0142\u0105d pobierania rozmiar\xf3w dla shape=${e}:`,t),{shape:e,sizes:[]}}})(e))),l={};t.forEach(e=>{var t,n;const r=(null===(n=((null===(t=a.find(t=>t.shape===e.shape))||void 0===t?void 0:t.sizes)||[]).find(t=>t.id===e.size))||void 0===n?void 0:n.size_label)||e.size;l[`${e.shape}_${e.size}`]=r}),c(l)};e.length>0&&a()},[t]);return n.a.createElement("div",{className:"recent-entries"},n.a.createElement("ul",{style:{listStyleType:"none",paddingLeft:0}},t.map(e=>n.a.createElement("li",{key:e.id},r[e.material]||e.material," \u2013 ",i[`${e.shape}_${e.size}`]||e.size," \u2013 "," ",e.weight_kg," kg \u2013  "," ",(e=>new Date(e).toLocaleString("pl-PL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))(e.created_at)," ","   ",n.a.createElement("button",{style:{marginTop:"10px",padding:"7px 10px",fontSize:"0.8rem",backgroundColor:"#ff1900",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"background-color 0.3s ease"},onClick:()=>(async e=>{try{await b.delete(`/containers/${e}/`),a()}catch(t){console.error("B\u0142\u0105d podczas usuwania wpisu:",t)}})(e.id)},"Usu\u0144")))))};var f=()=>{const[e,t]=Object(l.useState)([]),[a,r]=Object(l.useState)(""),[o,i]=Object(l.useState)(""),[c,s]=Object(l.useState)([]),[u,d]=Object(l.useState)("");Object(l.useEffect)(()=>{b.get("/materials/").then(e=>{t(e.data)}).catch(e=>{console.error("B\u0142\u0105d pobierania materia\u0142\xf3w:",e)})},[]);const g=async()=>{try{const t=(await b.get("/containers/")).data.slice(-5).reverse();s(t)}catch(e){console.error("B\u0142\u0105d podczas pobierania wpis\xf3w:",e)}};Object(l.useEffect)(()=>{g()},[]);return n.a.createElement("div",null,n.a.createElement(p,{selectedType:a,setSelectedType:r,selectedMaterial:o,setSelectedMaterial:i,selectedSize:u,setSelectedSize:d}),n.a.createElement(m,{selectedType:a,selectedMaterial:o,selectedSize:u,onSubmit:async e=>{try{const a=await(async e=>(await b.post("containers/",e)).data)(e);s([a,...c.slice(0,4)])}catch(t){console.error("B\u0142\u0105d przy dodawaniu wagi:",t),alert("Nie uda\u0142o si\u0119 zapisa\u0107 danych. Sprawd\u017a po\u0142\u0105czenie z backendem.")}}}),n.a.createElement(v,{entries:c,refreshEntries:g}))};var x=e=>{let{material:t,shape:a,weight:l,totalLength:r,onDelete:o}=e;const i=parseFloat(l);let c;const s={backgroundColor:c=0===i?"green":i>0&&i<10?"yellow":"red",color:"yellow"===c?"black":"white",padding:"20px",margin:"10px",borderRadius:"8px",textAlign:"center",width:"200px",position:"relative"};return n.a.createElement("div",{style:s},n.a.createElement("button",{style:{position:"absolute",top:"5px",right:"5px",background:"black",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",padding:"5px 8px"},onClick:o},"Z\u0142omuj"),n.a.createElement("h3",null,t),n.a.createElement("p",null,"Przekr\xf3j: ",a),n.a.createElement("p",null,"Waga: ",l," kg"),null!==r&&void 0!==r?n.a.createElement("p",null,"D\u0142ugo\u015b\u0107: ",r," m"):n.a.createElement("p",{style:{color:"gray"}},"(Brak danych o d\u0142ugo\u015bci)"))};var h=()=>{const[e,t]=Object(l.useState)([]),a=()=>{fetch("https://zlom-app.onrender.com/api/containers/summary/").then(e=>e.json()).then(e=>{console.log("Dane z nowego API:",e),t(e)})};Object(l.useEffect)(()=>{a()},[]);return n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((e,t)=>n.a.createElement(x,{key:t,material:e.material_name||e.material,shape:e.size_label||e.size_id,weight:e.total_weight_kg||e.total_weight,totalLength:e.total_length_m,onDelete:()=>(e=>{fetch(`https://zlom-app.onrender.com/api/entries/${e}/delete/`,{method:"DELETE"}).then(e=>{e.ok?a():alert("Nie uda\u0142o si\u0119 usun\u0105\u0107 wpisu.")})})(e.id)})))},y=a(13),w=a.n(y);var E=()=>n.a.createElement("nav",{className:"navbar bg-dark text-white p-3"},n.a.createElement("img",{src:w.a,alt:"Logo",style:{height:"100px"}}));var q=()=>n.a.createElement("footer",{className:"bg-light text-center p-3"},n.a.createElement("p",null,"\xa9 2025 Z\u0142om App"));var k=()=>n.a.createElement(i.a,null,n.a.createElement(E,null),n.a.createElement("main",{className:"container my-4"},n.a.createElement(c.c,null,n.a.createElement(c.a,{path:"/summary",element:n.a.createElement(h,null)}),n.a.createElement(c.a,{path:"/",element:n.a.createElement(f,null)}))),n.a.createElement(q,null));var A=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,30)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:r,getTTFB:o}=t;a(e),l(e),n(e),r(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null))),A()}},[[16,1,2]]]);
//# sourceMappingURL=main.a9d510a0.chunk.js.map